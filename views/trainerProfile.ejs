<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShapeYou - Trainers</title>

    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/stylesheets/trainerProfile.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/stars.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script> 
    
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script> -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</head>
<body>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color:#79B258; height: 80px; font-size: 18px;">
      <a class="navbar-brand" href="/user"><img style="width: 3rem; height: auto;" src="/images/arnav.png" alt=""></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          
          <li class="nav-item ml-3">
            <% if(currentUser.type=="Admin") { %>
            <a class="nav-link" href="/admin/category/Fitness%20trainer">Fitness</a>
            <%}else{%>
            <a class="nav-link" href="/user/category/Fitness%20trainer">Fitness</a>
            <%}%>
            <div class="underline"></div>
          </li>
          <li class="nav-item ml-3">
            <% if(currentUser.type=="Admin") { %>
              <a class="nav-link" href="/admin/category/Wellness">Wellness</a>
              <%}else{%>
              <a class="nav-link" href="/user/category/Wellness">Wellness</a>
              <%}%>
            <div class="underline"></div>
          </li>
          <li class="nav-item ml-3">
            <% if(currentUser.type=="Admin") { %>
              <a class="nav-link" href="/admin/category/Counselling">Counselling</a>
              <%}else{%>
              <a class="nav-link" href="/user/category/Counselling">Counselling</a>
              <%}%>
            <div class="underline"></div>
          </li>
            
        </ul>
        <ul class="navbar-nav ml-auto">
          <% if(!currentUser){ %>
            
              
              <form action="/user" method="GET" class="form-inline">
                <div class="form-group">
                <input type="text" name="search" placeholder="Search.." class="form-control mr-1" style="border-radius: 25px;"> <button type="submit" style="padding: 0; background-color: #79B258; border: none"><i class="fas fa-search ml-1 mr-3" style="color: white"></i></button>
                <!-- <input type="submit" value="Search" class="btn btn-success"> -->
              </div>
              </form>
              <li><a class="nav-link mr-3" href="/auth/login">Login</a></li>
              
          <% } else{ %>
            <form action="/user" method="GET" class="form-inline">
              <div class="form-group">
                <input type="text" name="search" placeholder="Search.." class="form-control mr-1" style="border-radius: 25px;"> <button type="submit" style="padding: 0; background-color: #79B258; border: none"><i class="fas fa-search ml-1 mr-3" style="color: white"></i></button>
              <!-- <input type="submit" value="Search" class="btn btn-success"> -->
            </div>
            </form>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle mr-3" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                My Account
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown" style="background-color: black;">
                <%if (currentUser.type=="Admin"){ %>
                <a class="dropdown-item" href="/admin" style="color: white;">Go to dashboard</a>
                <a class="dropdown-item" href="#" style="color: white;">Signed In as Admin</a>
                <%}else{%>
                  <a class="dropdown-item" href="/user/userDashboard/<%= currentUser._id %>" style="color: white;">Go to dashboard</a>
                  <a class="dropdown-item" href="#" style="color: white;">Signed In as <%= currentUser.username %></a>
                  <%}%>
                <a class="dropdown-item" href="/auth/logout" style="color: white;">Sign Out</a>
              </div>
            </li>
          <% } %>
        </ul>
      </div>
    </nav>

<!-- content -->

<section style="height: 380px; background: #000000; background: linear-gradient(45deg, rgba(133, 175, 99, 0.9) 0%, rgba(0, 105, 148, 0.9) 100%)">
  <div class="row">
    <div class="col-lg-6">
     <h2 style="font-size: 60px;; text-align: center; text-transform: uppercase; color: white; margin-top: 20%;"> anish </h2>
      <p style="font-size: 40px; text-align: center; color: white"> BOXING | BASIC </p>
      <%if(trainer.coupon != null){%>
      <div class="coupon">
          <div class="ticket__content">
            <%=trainer.coupon.couponName %><br>
            <%=trainer.coupon.discount %>
          </div>
        </div>
      <%}%>
    </div>
    <div class="col-lg-6">
      <img src="https://images.unsplash.com/photo-1527980965255-d3b416303d12?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1400&q=80" style="max-width: 50%; max-height: 50%; border-radius: 50%; display: block; margin-top: 15%; margin-left: 10%;">
    </div>
  </div>
</section>

      <div class="container">
        <div class="text-left">
          <h1 style="color: black; font-family: 'Montserrat', sans-serif; font-size: 55px; font-weight: 800; line-height: .9em; letter-spacing: .02em; text-transform: uppercase;">about anish </h1>
          <p style="margin-top: 31px; font-size: 18px;line-height: 27px;font-weight: 300;">
            Meggings portland fingerstache lyft, post-ironic fixie man bun banh mi umami everyday carry hexagon locavore direct trade art party. Locavore small batch listicle gastropub farm-to-table lumbersexual salvia messenger bag. Coloring book flannel truffaut craft beer drinking vinegar sartorial, disrupt fashion axe normcore meh butcher. Portland 90's scenester vexillologist forage post-ironic asymmetrical, chartreuse disrupt butcher paleo intelligentsia pabst before they sold out four loko. 3 wolf moon brooklyn.
          </p>
        </div>
      </div>




      <!-- <section> -->
        <!-- <form action=""></form> -->
        <!-- <fieldset class="starability-basic">
          <legend>First rating:</legend>
          <input type="radio" id="no-rate" class="input-no-rate" name="rating" value="0" checked aria-label="No rating." />
          <input type="radio" id="first-rate1" name="rating" value=<%= pricing.trialNumofSessions %>  />
          <label for="first-rate1" title="Terrible">1 star</label>
          <input type="radio" id="first-rate2" name="rating" value="2" />
          <label for="first-rate2" title="Not good">2 stars</label>
          <input type="radio" id="first-rate3" name="rating" value="3" />
          <label for="first-rate3" title="Average">3 stars</label>
          <input type="radio" id="first-rate4" name="rating" value="4" />
          <label for="first-rate4" title="Very good">4 stars</label>
          <input type="radio" id="first-rate5" name="rating" value="5" />
          <label for="first-rate5" title="Amazing">5 stars</label>
        </fieldset>
        <p class="starability-result" data-rating = "5">
          Rated: 3 stars
        </p>
      </section> -->
    

      <div class="trainingType">
        <!-- <h3><%= trainer.pricePlan %></h3> -->
        <button name = "personal" class="button activated" style="margin:20px; background: #79B258">Personal Training</button>
        <button name = "group" class="button" style="margin:20px; background: #79B258">Group Training - <%=category %></button>
    </div>

      <div class="container trainerTimeTable table-responsive">
        <table class="table table-bordered" id="trainerTT">
            <thead class="week-names">
              <tr style="text-align: center;font-family: 'Roboto', sans-serif;">
                <th scope="col"class="time-interval" style="background-color: #888888;vertical-align: inherit;" >Slots</th>
                <th scope="col"  style="background-color: rgb(144, 140, 140); color:black" id="dateT1"></th>
                <th scope="col" id="dateT2"></th>
                <th scope="col" id="dateT3"></th>
                <th scope="col" id="dateT4"></th>
                <th scope="col" id="dateT5"></th>
                <th scope="col" id="dateT6"></th>
                <th scope="col" style="background-color: rgb(144, 140, 140); color:black" id="dateT7"></th>
              </tr>
            </thead>
              <tbody style="text-align:center">
                <tr>
                  <th scope="row" class="time-interval">3PM-4PM</th>
                  <td class="weekend">
                    <div class="content">
                      <div class="empty">
                        - 
                      </div>
                    </div>
                </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                      
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                      
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                 
                  <td class="weekend">
                    <div class="content">
                      <div class="empty">
                        - 
                      </div>
                    </div>
                  </td>
                  
                </tr>
                <tr>
                  <th scope="row" class="time-interval">4PM-5PM</th>
                  <td class="weekend">
                    <div class="content">
                      <div class="empty">
                        - 
                      </div>
                    </div>
                </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td class="weekend">
                    <div class="content">
                      <div class="empty">
                        - 
                      </div>
                    </div>
                  </td>
                  
                </tr>
                <tr>
                  <th scope="row" class="time-interval">5PM-6PM</th>
                  <td class="weekend">
                    <div class="content">
                      <div class="empty">
                        - 
                      </div>
                    </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td class="weekend">
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                
                  
                </tr>
                <tr>
                  <th scope="row" class="time-interval" >6PM-7PM</th>
                  <td class="weekend">
                    <div class="content">
                      <div class="empty">
                        - 
                      </div>
                    </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td class="weekend">
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  
                </tr>
                <tr>
                  <th scope="row"class="time-interval" >7PM-8PM</th>
                  <td class="weekend">
                    <div class="content">
                      <div class="empty">
                        - 
                      </div>
                    </div>
                </td>
                
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td>
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
                  <td class="weekend">
                      <div class="content">
                        <div class="empty">
                          - 
                        </div>
                      </div>
                  </td>
              
                  
                </tr>
                </tbody>
              </table>
  
      </div>
<% if(trainer.reviews.length > 0) { %>

  <!-- ======= Testimonials Section ======= -->
  <section id="testimonials" class="testimonials section-bg">
    <div class="container">
      
      <div class="section-title text-center" data-aos="fade-up">
        <h2>Reviews</h2>
        <!-- <p>Magnam dolores commodi suscipit eum quidem consectetur velit</p> -->
      </div>
      
      <div class="owl-carousel testimonials-carousel" data-aos="fade-up" data-aos-delay="200">
        <% trainer.reviews.forEach((review) => { %>
          <div class="testimonial-wrap">
            <div class="testimonial-item text-center">
              <!-- <img src="assets/img/testimonials/testimonials-1.jpg" class="testimonial-img" alt=""> -->
              <h3><%= review.author.username %> </h3>
              <!-- <h4>Ceo &amp; Founder</h4> -->
              <p class="starability-result text-left" data-rating = "<%= review.rating %>">
                Rated: 3 stars
              </p>
              <p>
                <i class="fas fa-quote-left"></i>
                <%= review.body %> Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ducimus, alias ipsa dignissimos tempore fugiat veritatis distinctio nam dolores officia quas quos, cum suscipit labore sit tempora hic sed commodi dolorem!
                <i class="fas fa-quote-right"></i>
              </p>
            </div>
          </div>
        <% }) %>
          
        
        
      </div>
      
    </div>
  </section><!-- End Testimonials Section -->
<% } %>

      <!-- <button data-toggle="modal" data-backdrop="static" data-keyboard="false" data-target="#mymodal1">Book Your Slot</button> -->

    <section>
  <!-- Modal for coupon -->
<div class="modal fade" id="mymodal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
     <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="myModalLabel">Avail Coupon</h4>
           <button type="button" class="close" onclick="javascript:window.location.reload()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body">
              <fieldset style="display: block;">
                    <input type="text" style="text-transform: uppercase;border: 1px solid black;" />
                    <button type="button" class="couponApply" class="btn btn-next cn1">Apply</button>
              </fieldset>
        </div>
        <div class="modal-footer">
           <button type="button" class="btn btn-primary btn-default btn-next cn1">Next</button>
           <button type="button" class="btn btn-default" onclick="javascript:window.location.reload()" data-dismiss="modal">Close</button>
        </div>
     </div>
  </div>
</div>

  <div class="modal fade bd-example-modal-lg" id="mymodal2" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
      <div class="personal">
        <h1 style="text-align: center;margin-top: 25px;">Sessions Available</h1>
        <button type="button" class="close"onclick="javascript:window.location.reload()" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div id="sessions">
          <section class="text-gray-700 body-font overflow-hidden">
              <div class="container px-5 py-24 mx-auto">
                <div class="flex flex-wrap -m-4">
                  <div class="p-4 xl:w-1/3 md:w-1/2 w-full">
                    <div class="h-full p-6 rounded-lg border-2 border-gray-300 flex flex-col relative overflow-hidden">
                      <h2 class="text-sm tracking-widest title-font mb-1 font-medium"><%= pricing.trialNumofSessions %> Session</h2>
                      <h1 class="text-5xl text-gray-900 pb-4 mb-4 border-b border-gray-200 leading-none"><span class="prices">₹<%= pricing.trialPackPrice%> </span></h1>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Vexillologist pitchfork
                      </p>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Tumeric plaid portland
                      </p>
                      <p class="flex items-center text-gray-600 mb-6">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Mixtape chillwave tumeric
                      </p>
                      <form class="newSession" id="formp1" action="/user/paytm" method="POST">
                        <button class="flex items-center mt-auto text-white bg-blue-500 border-0 py-2 px-4 w-full focus:outline-none hover:bg-blue-600 rounded">Pay Now
                        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-auto" viewBox="0 0 24 24">
                          <path d="M5 12h14M12 5l7 7-7 7"></path>
                        </svg>
                        </button>
                        <input type="hidden" name="trainerId" value="<%= trainer._id %>">
                        <input type="hidden" name="category" value="<%= category %>">
                        <input type="hidden" name="type" value="personal">
                        <input type="hidden" name="username" value="<%= trainer.username %>">
                        <input type="hidden" name="numOfSessions" value="<%= pricing.trialNumofSessions %>" >
                        <input type="hidden" name="defaultPrice" value="<%= pricing.trialPackPrice%>">
                    </form>
                      <p class="text-xs text-gray-500 mt-3">Literally you probably haven't heard of them jean shorts.</p>
                    </div>
                  </div>
                  <div class="p-4 xl:w-1/3 md:w-1/2 w-full">
                    <div class="h-full p-6 rounded-lg border-2 border-blue-500 flex flex-col relative overflow-hidden">
                      <span class="bg-blue-500 text-white px-3 py-1 tracking-widest text-xs absolute right-0 top-0 rounded-bl">POPULAR</span>
                      <h2 class="text-sm tracking-widest title-font mb-1 font-medium"><%= pricing.goldNumofSessions%> Sessions</h2>
                      <h1 class="text-5xl text-gray-900 leading-none flex items-center pb-4 mb-4 border-b border-gray-200">
                        <span class="prices">₹<%= pricing.goldPackPrice%></span>
                      </h1>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Vexillologist pitchfork
                      </p>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Tumeric plaid portland
                      </p>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Hexagon neutra unicorn
                      </p>
                      <p class="flex items-center text-gray-600 mb-6">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Mixtape chillwave tumeric
                      </p>
                      <form class="newSession" id="formp2" action="/user/paytm" method="POST">
                        <button class="flex items-center mt-auto text-white bg-blue-500 border-0 py-2 px-4 w-full focus:outline-none hover:bg-blue-600 rounded">Pay Now
                        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-auto" viewBox="0 0 24 24">
                          <path d="M5 12h14M12 5l7 7-7 7"></path>
                        </svg>
                        </button>
                        <input type="hidden" name="trainerId" value="<%= trainer._id %>">
                        <input type="hidden" name="category" value="<%= category %>">
                        <input type="hidden" name="type" value="personal">
                        <input type="hidden" name="username" value="<%= trainer.username %>">
                        <input type="hidden" name="numOfSessions" value="<%= pricing.goldNumofSessions%>">
                        <input type="hidden" name="defaultPrice" value="<%= pricing.goldPackPrice%>">
                    </form>
                      <p class="text-xs text-gray-500 mt-3">Literally you probably haven't heard of them jean shorts.</p>
                    </div>
                  </div>
                  <div class="p-4 xl:w-1/3 md:w-1/2 w-full">
                    <div class="h-full p-6 rounded-lg border-2 border-gray-300 flex flex-col relative overflow-hidden">
                      <h2 class="text-sm tracking-widest title-font mb-1 font-medium"><%= pricing.platinumNumofSessions%> Sessions</h2>
                      <h1 class="text-5xl text-gray-900 leading-none flex items-center pb-4 mb-4 border-b border-gray-200">
                        <span class="prices">₹<%= pricing.platinumPackPrice%></span>
                      </h1>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Vexillologist pitchfork
                      </p>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Tumeric plaid portland
                      </p>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Hexagon neutra unicorn
                      </p>
                      <p class="flex items-center text-gray-600 mb-2">
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Vexillologist pitchfork
                      </p>
                      <p class="flex items-center text-gray-600 mb-6">
                        
                        <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                            <path d="M20 6L9 17l-5-5"></path>
                          </svg>
                        </span>Mixtape chillwave tumeric
                      </p>
                      <form class="newSession" id="formp3" action="/user/paytm" method="POST">
                        <button class="flex items-center mt-auto text-white bg-blue-500 border-0 py-2 px-4 w-full focus:outline-none hover:bg-blue-600 rounded">Pay Now
                        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-auto" viewBox="0 0 24 24">
                          <path d="M5 12h14M12 5l7 7-7 7"></path>
                        </svg>
                        </button>
                        <input type="hidden" name="trainerId" value="<%= trainer._id %>">
                        <input type="hidden" name="category" value="<%= category %>">
                        <input type="hidden" name="type" value="personal">
                        <input type="hidden" name="username" value="<%= trainer.username %>">
                        <input type="hidden" name="numOfSessions" value="<%= pricing.platinumNumofSessions%>">
                        <input type="hidden" name="defaultPrice" value="<%= pricing.platinumPackPrice%>">
                    </form>
                      <p class="text-xs text-gray-500 mt-3">Literally you probably haven't heard of them jean shorts.</p>
                    </div>
                  </div>
                </div>
              </div>
            </section>
  </div>
</div>
</div>
</div>
</div>


<!-- Modal for coupon-group -->
<div class="modal fade" id="mymodal-g1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
     <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">Avail Coupon</h4>
         <button type="button" class="close" onclick="javascript:window.location.reload()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
            <fieldset style="display: block;">
                  <input type="text" style="text-transform: uppercase;border: 1px solid black;" />
                  <button type="button" class="couponApply" class="btn btn-next cn1">Apply</button>
            </fieldset>
      </div>
        <div class="modal-footer">
           <button type="button" class="btn btn-primary btn-default btn-next">Next</button>
           <button type="button" class="btn btn-default" onclick="javascript:window.location.reload()" data-dismiss="modal">Close</button>
        </div>
     </div>
  </div>
</div>


<div class="modal fade bd-example-modal-lg-group" id="mymodal-g2"tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="group">

        <h1 style="text-align: center;margin-top: 25px;">Sessions Available</h1>
        <button type="button" class="close" onclick="javascript:window.location.reload()" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <div id="sessions">
              <section class="text-gray-700 body-font overflow-hidden">
                  <div class="container px-5 py-24 mx-auto">
                    <div class="flex flex-wrap -m-4">
                      <div class="p-4 xl:w-1/3 md:w-1/2 w-full">
                        <div class="h-full p-6 rounded-lg border-2 border-gray-300 flex flex-col relative overflow-hidden">
                          <h2 class="text-sm tracking-widest title-font mb-1 font-medium"><%= pricing.trialNumofSessions %> Session</h2>
                          <h1 class="text-5xl text-gray-900 pb-4 mb-4 border-b border-gray-200 leading-none"><span class="prices">₹<%= pricing.trialPackPrice %></span></h1>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Vexillologist pitchfork
                          </p>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Tumeric plaid portland
                          </p>
                          <p class="flex items-center text-gray-600 mb-6">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Mixtape chillwave tumeric
                          </p>
                          <form class="newSession" id="form1" action="/user/paytm" method="POST">
                            <button class="flex items-center mt-auto text-white bg-blue-500 border-0 py-2 px-4 w-full focus:outline-none hover:bg-blue-600 rounded">Pay Now
                            <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-auto" viewBox="0 0 24 24">
                              <path d="M5 12h14M12 5l7 7-7 7"></path>
                            </svg>
                            </button>
                            <input type="hidden" name="trainerId" value="<%= trainer._id %>">
                            <input type="hidden" name="category" value="<%= category %>">
                            <input type="hidden" name="type" value="group">
                            <input type="hidden" name="username" value="<%= trainer.username %>">
                            <input type="hidden" name="numOfSessions" value="<%= pricing.trialNumofSessions %>" >
                            <input type="hidden" name="defaultPrice" value="<%= pricing.trialPackPrice%>">
                        </form>
                          <p class="text-xs text-gray-500 mt-3">Literally you probably haven't heard of them jean shorts.</p>
                        </div>
                      </div>
                      <div class="p-4 xl:w-1/3 md:w-1/2 w-full">
                        <div class="h-full p-6 rounded-lg border-2 border-blue-500 flex flex-col relative overflow-hidden">
                          <span class="bg-blue-500 text-white px-3 py-1 tracking-widest text-xs absolute right-0 top-0 rounded-bl">POPULAR</span>
                          <h2 class="text-sm tracking-widest title-font mb-1 font-medium"><%= pricing.goldNumofSessions%> Sessions</h2>
                          <h1 class="text-5xl text-gray-900 leading-none flex items-center pb-4 mb-4 border-b border-gray-200">
                            <span class="prices">₹<%= pricing.goldPackPrice%></span>
                          </h1>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Vexillologist pitchfork
                          </p>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Tumeric plaid portland
                          </p>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Hexagon neutra unicorn
                          </p>
                          <p class="flex items-center text-gray-600 mb-6">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Mixtape chillwave tumeric
                          </p>
                          <form class="newSession" id="form2" action="/user/paytm" method="POST">
                            <button class="flex items-center mt-auto text-white bg-blue-500 border-0 py-2 px-4 w-full focus:outline-none hover:bg-blue-600 rounded">Pay Now
                            <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-auto" viewBox="0 0 24 24">
                              <path d="M5 12h14M12 5l7 7-7 7"></path>
                            </svg>
                            </button>
                            <input type="hidden" name="trainerId" value="<%= trainer._id %>">
                            <input type="hidden" name="category" value="<%= category %>">
                            <input type="hidden" name="type" value="group">
                            <input type="hidden" name="username" value="<%= trainer.username %>">
                            <input type="hidden" name="numOfSessions" value="<%= pricing.goldNumofSessions%>">
                            <input type="hidden" name="defaultPrice" value="<%= pricing.goldPackPrice%>">
                        </form>
                          <p class="text-xs text-gray-500 mt-3">Literally you probably haven't heard of them jean shorts.</p>
                        </div>
                      </div>
                      <div class="p-4 xl:w-1/3 md:w-1/2 w-full">
                        <div class="h-full p-6 rounded-lg border-2 border-gray-300 flex flex-col relative overflow-hidden">
                          <h2 class="text-sm tracking-widest title-font mb-1 font-medium"><%= pricing.platinumNumofSessions%> Sessions</h2>
                          <h1 class="text-5xl text-gray-900 leading-none flex items-center pb-4 mb-4 border-b border-gray-200">
                            <span class="prices">₹<%= pricing.platinumPackPrice%></span>
                          </h1>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Vexillologist pitchfork
                          </p>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Tumeric plaid portland
                          </p>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Hexagon neutra unicorn
                          </p>
                          <p class="flex items-center text-gray-600 mb-2">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Vexillologist pitchfork
                          </p>
                          <p class="flex items-center text-gray-600 mb-6">
                            <span class="w-4 h-4 mr-2 inline-flex items-center justify-center bg-gray-500 text-white rounded-full flex-shrink-0">
                              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" class="w-3 h-3" viewBox="0 0 24 24">
                                <path d="M20 6L9 17l-5-5"></path>
                              </svg>
                            </span>Mixtape chillwave tumeric
                          </p>
                          <form class="newSession" id="form3" action="/user/paytm" method="POST">
                            <button class="flex items-center mt-auto text-white bg-blue-500 border-0 py-2 px-4 w-full focus:outline-none hover:bg-blue-600 rounded">Pay Now
                            <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-auto" viewBox="0 0 24 24">
                              <path d="M5 12h14M12 5l7 7-7 7"></path>
                            </svg>
                            </button>
                            <input type="hidden" name="trainerId" value="<%= trainer._id %>">
                            <input type="hidden" name="category" value="<%= category %>">
                            <input type="hidden" name="type" value="group">
                            <input type="hidden" name="username" value="<%= trainer.username %>">
                            <input type="hidden" name="numOfSessions" value="<%= pricing.platinumNumofSessions%>">
                            <input type="hidden" name="defaultPrice" value="<%= pricing.platinumPackPrice%>">
                        </form>
                          <p class="text-xs text-gray-500 mt-3">Literally you probably haven't heard of them jean shorts.</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>
          </div>
    </div>
    </div>
  </div>
</div>


    </section>

    <footer id="footer">

      <div class="footer-top">
        <div class="container">
          <div class="row">
  
            <div class="col-lg-4 col-md-6 footer-contact">
              <h3>ShapeYou</h3>
              <p>
                A108 Gzb <br>
                Ghaziabad, 201001<br>
                India <br><br>
                <strong>Phone:</strong> +91 95824567813<br>
                <strong>Email:</strong> info@example.com<br>
              </p>
            </div>
  
            <div class="col-lg-4 col-md-6 footer-links">
              <h4>Useful Links</h4>
              <ul>
                <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
                <li><i class="bx bx-chevron-right"></i> <a href="#">Fitness</a></li>
                <li><i class="bx bx-chevron-right"></i> <a href="#">Wellness</a></li>
                <li><i class="bx bx-chevron-right"></i> <a href="#">Counselling</a></li>
                <li><i class="bx bx-chevron-right"></i> <a href="#">Gym</a></li>
              </ul>
            </div>
  
            <div class="col-lg-4 col-md-6 footer-newsletter">
              <h4>Join Our Newsletter</h4>
              <p>Tamen quem nulla quae legam multos aute sint culpa legam noster magna</p>
              <form action="" method="post">
                <input type="email" name="email"><input type="submit" value="Subscribe">
              </form>
            </div>
  
          </div>
        </div>
      </div>
  
      <div class="container">
  
        <div class="copyright-wrap d-md-flex py-4">
          <div class="mr-md-auto text-center text-md-left">
            <div class="copyright">
              &copy; Copyright <strong><span>ShapeYou</span></strong>. All Rights Reserved
            </div>
            <div class="credits">
              Designed by <a href="https://theredatom.com/">RedAtom</a>
            </div>
          </div>
          <div class="social-links text-center text-md-right pt-3 pt-md-0">
            <a href="#" class="twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" class="facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" class="google-plus"><i class="fab fa-skype"></i></a>
            <a href="#" class="linkedin"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
  
      </div>
    </footer><!-- End Footer -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous"></script>

    <script>

      var id = <%-JSON.stringify(trainer._id) %>;
      var trainerCat = <%-JSON.stringify(category) %>;
      var trainerType = 'personal';
      var name = <%- JSON.stringify(trainer.username)%>;
      var coupon = <%- JSON.stringify(trainer.coupon) %>;

      if(coupon){
        var couponName = coupon.couponName%>;
        var discount = coupon.discount;
      }

      var trainerPersonals = <%- JSON.stringify(trainer.personalSlots) %>;
      var persSlots = null;

      $(".button").click(function() {
        $(this).addClass("activated");
        $(".button").not(this).removeClass('activated');
        trainerType = this.name;
        if(trainerType == 'personal'){
            $('.personal').removeAttr('hidden');
            $('.group').attr('hidden','');
        }
        else{
            $('.group').removeAttr('hidden');
            $('.personal').attr('hidden','');
        }

        $('#trainerTT tr').each(function(){
          $(this).find('td').each(function(){
            $(this).find('.content')[0].innerHTML = `<div class="content">
                              <div class="empty">
                                - 
                              </div>
                            </div>`
            $(this).find('.content').css('background-color',"unset");
            $(this).find('.content').css('color',"unset");
            });
          });


        $.ajax({
        // url:'http://127.0.0.1:3500/user/getTimeTable/'+id,
        url:'https://shapeyou-demo.herokuapp.com/user/getTimeTable/'+id,
        method: 'GET',
        data: {trainerType},
        success:(data)=>{
          var index = 0;
          $('#trainerTT tr').each(function(){
            var timeR = null;
            var timeStr = null;
            if(index!=0){
                timeR = $(this).find('th')[0].innerText;
                var timeA = timeR.split('-');
                timeStr = timeA[0].slice(0,1)+":00 - "+timeA[1].slice(0,1)+":00";
                timeStr2 = timeA[0].slice(0,1)+":00-"+timeA[1].slice(0,1)+":00";
              }
              
              $(this).find('td').each(function(){
                var col = $("table thead tr th").eq($(this).index());
                var key = col[0].getAttribute('value');
                var key2 = key.split(' ').join('-');
                var dayCol = col[0].innerHTML.split('>')[2].split('<')[0];
              
                if(trainerType == "group" && index!=0 && data && data[key]!=undefined){

                  for(var i=0;i<data[key].length;i++){
                    if(data[key][i].slice(0,11) == timeStr && data[key][i].substring(12,data[key][i].length-2)==trainerCat){
                        $(this).find('.content')[0].innerHTML = `<button class='bookSlot' data-toggle="modal" data-backdrop="static" data-keyboard="false" data-target="#mymodal-g1">Book Your Slot</button><button class="booked" hidden disabled>BOOKED</button>`;
                        $(this).find('.content').find('.empty').attr('hidden','');
                        $(this).find('.content').find('.bookSlot').attr('data-key',key.replace(/\s/g, '-'));
                        $(this).find('.content').find('.bookSlot').attr('data-slot',timeStr.replace(/\s/g, ''));
                        $(this).find('.content').find('.bookSlot').attr('data-trainer',name);
                        // $(this).find('.content').css('background-color',"yellowgreen");
                        // $(this).find('.content').css('color',"darkgreen");
                      
                    }
                  }
                }else if(trainerType == "personal" && index!=0){
                    switch (dayCol){
                      case 'MON':
                          dayCol = "Monday";
                          break;
                      case 'TUE':
                          dayCol = "Tuesday";
                          break;
                      case 'WED':
                          dayCol = "Wednesday";
                          break;
                      case 'THU':
                          dayCol = "Thursday";
                          break;
                      case 'FRI':
                          dayCol = "Friday";
                          break;
                      case 'SAT':
                          dayCol = "Saturday";
                          break;
                      default:
                          dayCol = "Sunday";
                  };

                  if(data && data[dayCol]){
                    for(var i=0;i<data[dayCol].length;i++){
                      if(data[dayCol][i].slice(0,9)==timeStr2 && parseInt(data[dayCol][i].slice(-1))==0){
                            $(this).find('.content')[0].innerHTML = `<button class='bookSlot' data-toggle="modal" data-backdrop="static" data-keyboard="false" data-target="#mymodal1">Book Your Slot</button><button class="booked" hidden disabled>BOOKED</button>`;
                            $(this).find('.content').find('.empty').attr('hidden','');
                            $(this).find('.content').find('.bookSlot').attr('data-key',key.replace(/\s/g, '-'));
                            $(this).find('.content').find('.bookSlot').attr('data-key2',dayCol);
                            $(this).find('.content').find('.bookSlot').attr('data-slot',timeStr.replace(/\s/g, ''));
                            $(this).find('.content').find('.bookSlot').attr('data-trainer',name);
                            // $(this).find('.content').css('background-color',"yellowgreen");
                            // $(this).find('.content').css('color',"darkgreen");
                      }
                    };
                  }
                }
              });
              index++;
            });
          }
        });

      });


      // DATE HEADINGS OF TIME TABLE 

     
      var curr = new Date;
        var firstday = new Date(curr.setDate((curr.getDate() - curr.getDay())));
        var lastday = new Date((curr.setDate((curr.getDate() - curr.getDay())+6)));
    
      var d = new Date();
      var m = d.getMinutes();
      var h = d.getHours();
      if(h == '0') {h = 12}
      
      var currentTime = h+":"+m;
    
      var weekday=new Array(7);
          weekday[0]="SUN";
          weekday[1]="MON";
          weekday[2]="TUE";
          weekday[3]="WED";
          weekday[4]="THU";
          weekday[5]="FRI";
          weekday[6]="SAT";

        
    
      var data=new Object();
    
      var j=1;
    
      var first = firstday;
  
    
      // for(var d = 0;d<7; d++){
      //     var nextDay = new Date();
      //     nextDay.setDate(firstday.getDate()+1);
      //     var datePassed = firstday.getDate() + " " + firstday.toLocaleString('default', { month: 'short' })+" "+firstday.getFullYear();
      //     data[datePassed] = new Array();
      //     firstday = nextDay;
      // }
    
    
      // firstday = first;



      for(var i=firstday;i<=lastday;i.setDate(i.getDate() + 1)){
            document.getElementById('dateT'+j).innerHTML = `<span>${i.getDate()}<br>${weekday[j-1]}</span>`;
            document.getElementById('dateT'+j).setAttribute('value',`${i.getDate()+" "+i.toLocaleString('default',{month:'short'})+" "+i.getFullYear()}`);
            j++;
        }

      //FILLING TABLE DETAILS

      $.ajax({
        // url:'http://127.0.0.1:3500/user/getTimeTable/'+id,
        url:'https://shapeyou-demo.herokuapp.com/user/getTimeTable/'+id,
        method: 'GET',
        data: {trainerType},
        success:(data)=>{
          var index = 0;
          $('#trainerTT tr').each(function(){
            var timeR = null;
            var timeStr = null;
            if(index!=0){
                timeR = $(this).find('th')[0].innerText;
                var timeA = timeR.split('-');
                timeStr = timeA[0].slice(0,1)+":00 - "+timeA[1].slice(0,1)+":00";
                timeStr2 = timeA[0].slice(0,1)+":00-"+timeA[1].slice(0,1)+":00";
              }
              
              $(this).find('td').each(function(){
                var col = $("table thead tr th").eq($(this).index());
                var key = col[0].getAttribute('value');
                var key2 = key.split(' ').join('-');
                var dayCol = col[0].innerHTML.split('>')[2].split('<')[0];
              
                if(trainerType == "group" && index!=0 && data && data[key]!=undefined){

                  for(var i=0;i<data[key].length;i++){
                    if(data[key][i].slice(0,11) == timeStr && data[key][i].substring(12,data[key][i].length-2)==trainerCat){
                        $(this).find('.content')[0].innerHTML = `<button class='bookSlot' data-toggle="modal" data-backdrop="static" data-keyboard="false" data-target="#mymodal-g1">Book Your Slot</button><button class="booked" hidden disabled>BOOKED</button>`;
                        $(this).find('.content').find('.empty').attr('hidden','');
                        $(this).find('.content').find('.bookSlot').attr('data-key',key.replace(/\s/g, '-'));
                        $(this).find('.content').find('.bookSlot').attr('data-slot',timeStr.replace(/\s/g, ''));
                        $(this).find('.content').find('.bookSlot').attr('data-trainer',name);
                        // $(this).find('.content').css('background-color',"yellowgreen");
                        // $(this).find('.content').css('color',"darkgreen");
                      
                    }
                  }
                }else if(trainerType == "personal" && index!=0){
                    switch (dayCol){
                      case 'MON':
                          dayCol = "Monday";
                          break;
                      case 'TUE':
                          dayCol = "Tuesday";
                          break;
                      case 'WED':
                          dayCol = "Wednesday";
                          break;
                      case 'THU':
                          dayCol = "Thursday";
                          break;
                      case 'FRI':
                          dayCol = "Friday";
                          break;
                      case 'SAT':
                          dayCol = "Saturday";
                          break;
                      default:
                          dayCol = "Sunday";
                  };

                  if(data && data[dayCol]!=undefined){
                    for(var i=0;i<data[dayCol].length;i++){
                      if(data[dayCol][i].slice(0,9)==timeStr2 && parseInt(data[dayCol][i].slice(-1))==0){
                            $(this).find('.content')[0].innerHTML = `<button class='bookSlot' data-toggle="modal" data-backdrop="static" data-keyboard="false" data-target="#mymodal1">Book Your Slot</button><button class="booked" hidden disabled>BOOKED</button>`;
                            $(this).find('.content').find('.empty').attr('hidden','');
                            $(this).find('.content').find('.bookSlot').attr('data-key',key.replace(/\s/g, '-'));
                            $(this).find('.content').find('.bookSlot').attr('data-key2',dayCol);
                            $(this).find('.content').find('.bookSlot').attr('data-slot',timeStr.replace(/\s/g, ''));
                            $(this).find('.content').find('.bookSlot').attr('data-trainer',name);
                            // $(this).find('.content').css('background-color',"yellowgreen");
                            // $(this).find('.content').css('color',"darkgreen");
                      }
                    };
                  }
                }
              });
              index++;
            });
          }
        });

        $("div[id^='mymodal']").each(function(){

          var currentModal = $(this);
          
          //click next
          currentModal.find('.btn-next').click(function(){
            currentModal.modal('hide');
            currentModal.closest("div[id^='mymodal']").nextAll("div[id^='mymodal']").first().modal('show');
          });
          
          //click prev
          currentModal.find('.btn-prev').click(function(){
            currentModal.modal('hide');
            currentModal.closest("div[id^='mymodal']").prevAll("div[id^='mymodal']").first().modal('show'); 
          });

        });

        $("div[id^='mymodal-g']").each(function(){
  
          var currentModal = $(this);
          
          //click next
          currentModal.find('.btn-next').click(function(){
            currentModal.modal('hide');
            currentModal.closest("div[id^='mymodal-g']").nextAll("div[id^='mymodal-g']").first().modal('show'); 
          });
          
          //click prev
          currentModal.find('.btn-prev').click(function(){
            currentModal.modal('hide');
            currentModal.closest("div[id^='mymodal-g']").prevAll("div[id^='mymodal-g']").first().modal('show'); 
          });

        });

        $(document).on('click', '.couponApply', function() {
          var currentModal = $(this).parent().parent().parent().parent().parent();
          if($(this).prev().val().toUpperCase() ==couponName){
            $('.prices').each((e,value)=>{
              console.log(e);
              var price = value.innerText;
              var amount = parseFloat(price.slice(1,));
              var discountP = discount;
              console.log(discountP)
              discountP=parseInt(discountP.slice(0,2));
              amount -= amount*(discountP/100);
              value.innerText = '₹' + amount.toFixed(2);
              if(trainerType == "group"){
                var content = `<input type="hidden" name="price" value=${amount.toFixed(2)}>`
                $('#form'+(e+1)).append(content);
              }else{
                var content = `<input type="hidden" name="price" value=${amount.toFixed(2)}>`
                $('#formp'+(e+1)).append(content);
              }
            });
          }
          currentModal.modal('hide');
          currentModal.next().modal('show'); 

        });
        

        $(document).on('click', '.bookSlot', function() {
              const key  = $(this).attr('data-key');
              const key3  = $(this).attr('data-key2');
              const slot = $(this).attr('data-slot');
              const name = $(this).attr('data-trainer');

              $(this).attr('hidden','');
              $(this).next().removeAttr('hidden');

              const date = new Object();
              const date2 = new Object();
              const userCount = new Object();

              date[key] = new Array();
              date[key].push(slot);

              if(trainerType == "group"){
                date2[key] = slot;
                userCount[id] = date2;
              }else{
                date2[key3] = slot;
                userCount[id] = date2;
              }

              $.ajax({
                url:'/user/bookedSlots/' + <%- JSON.stringify(currentUser._id)%>,
                method:'GET',
                success:(booked)=>{

                  if(booked.length == 0){
                    var newObj = new Object();
                    newObj[name] = new Array();
                    newObj[name].push(date);
                    booked.push(newObj);
                  
                  }
                  else{

                    var isPresent = false;

                    for(var i=0;i<booked.length;i++){
                      if(Object.keys(booked[i])[0] == name){
                        isPresent = true;
                        
                        var temp = booked[i][Object.keys(booked[i])[0]];

                        if(temp.length == 0){
                          booked[i][Object.keys(booked[i])[0]].push(date); 
                        }else{
                          var isThere = false;
                          for(var j=0;j<temp.length;j++){
                            if(key in temp[j]){
                              isThere = true;
                              if(!booked[i][Object.keys(booked[i])[0]][j][key].includes(slot)){
                                booked[i][Object.keys(booked[i])[0]][j][key].push(slot);
                              }
                              break;
                            }
                          }
                          if(!isThere){
                            booked[i][Object.keys(booked[i])[0]].push(date); 
                            break;
                          }
                        }
                      }
                    }

                    if(!isPresent){
                      var newObj = new Object();
                      newObj[name] = new Array();
                      newObj[name].push(date);
                      booked.push(newObj);
                    }
                  }

                console.log(booked);
                console.log(userCount);
                var content = `<input type="hidden" name="booked" value=${JSON.stringify(booked)}>`
                var content2 = `<input type="hidden" name="userCount" value=${JSON.stringify(userCount)}>`
                $('.newSession').append(content);
                $('.newSession').append(content2);
              
          }
          });
        });

    </script>
    <script>
      $('.nav-link').on('click', function() {
      $('.active-link').removeClass('active-link');
      $(this).addClass('active-link');
    });
    // Testimonials carousel (uses the Owl Carousel library)
    $(".testimonials-carousel").owlCarousel({
      autoplay: true,
      dots: true,
      loop: true,
      responsive: {
        0: {
          items: 1
        },
        768: {
          items: 1
        },
        900: {
          items: 2
        }
      }
    });
    </script>
    
</body>
</html>